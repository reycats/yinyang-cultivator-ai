<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚ö´‚ö™ DeepKu AI Chat</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" href="assets/yin-yang.svg" type="image/svg+xml">
</head>
<body>
    <!-- Background Elements -->
    <div class="yin-yang-bg"></div>
    <div class="floating-particles"></div>
    
    <!-- Main Container -->
    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <img src="assets/yin-yang.svg" alt="Yin Yang" class="yin-yang-logo">
                <div class="logo-text">
                    <h1>DeepKu AI</h1>
                    <p class="tagline">Harmoni dalam Dialog</p>
                </div>
            </div>
            <p class="subtitle">AI Assistant dengan tema Yin Yang</p>
        </header>
        
        <!-- Chat Container -->
        <div class="chat-container">
            <div class="chat-header">
                <div class="model-info">
                    <span class="model-tag" id="model-info">DeepSeek Chat</span>
                    <span>‚ö° AI Assistant</span>
                </div>
                <div class="status">
                    <div class="status-dot" id="status-dot"></div>
                    <span id="api-status">Checking...</span>
                </div>
            </div>
            
            <!-- Messages Container -->
            <div class="messages-container" id="messages-container">
                <!-- Messages will be inserted here by JavaScript -->
                <div class="message bot">
                    <div class="avatar">
                        <i class="fas fa-yin-yang"></i>
                    </div>
                    <div class="message-content">
                        <p>üéØ <strong>Selamat datang di DeepKu AI!</strong></p>
                        <p>Saya adalah asisten AI dengan tema Yin Yang yang seimbang.</p>
                        <p>üîë <strong>Langkah pertama:</strong> Klik tombol Settings (‚öôÔ∏è) di bawah untuk memasukkan API Key Anda.</p>
                    </div>
                </div>
            </div>
            
            <!-- Typing Indicator -->
            <div class="typing-indicator" id="typing-indicator">
                <div class="typing-dots">
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                </div>
                <span>AI sedang mengetik...</span>
            </div>
            
            <!-- Input Area -->
            <div class="input-container">
                <div class="input-wrapper">
                    <textarea 
                        id="message-input" 
                        placeholder="Ketik pesan Anda di sini... (Enter untuk kirim, Shift+Enter untuk baris baru)"
                        rows="2"
                        autocomplete="off"></textarea>
                    <div class="input-actions">
                        <button class="action-btn" id="attach-btn" title="Attach file">
                            <i class="fas fa-paperclip"></i>
                        </button>
                        <button class="action-btn" id="clear-input-btn" title="Clear input">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>
                <button id="send-btn" class="send-button">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
        
        <!-- Controls -->
        <div class="controls">
            <button class="control-btn" id="clear-btn">
                <i class="fas fa-trash-alt"></i> Clear Chat
            </button>
            <button class="control-btn" id="theme-btn">
                <i class="fas fa-moon"></i> Tema
            </button>
            <button class="control-btn" id="settings-btn">
                <i class="fas fa-cog"></i> Settings
            </button>
            <button class="control-btn" id="new-chat-btn">
                <i class="fas fa-plus"></i> New Chat
            </button>
        </div>
        
        <!-- Stats -->
        <div class="stats">
            <div class="stat-item">
                <i class="fas fa-message"></i>
                <span id="message-count">0 Pesan</span>
            </div>
            <div class="stat-item">
                <i class="fas fa-bolt"></i>
                <span id="token-count">~0 Token</span>
            </div>
            <div class="stat-item">
                <i class="fas fa-plug"></i>
                <span id="connection-status">API: Checking</span>
            </div>
        </div>
        
        <!-- Footer -->
        <footer>
            <p>‚ö´‚ö™ DeepKu AI v2.0 ¬∑ Powered by DeepSeek API</p>
            <p class="footer-note">
                <a href="#" id="privacy-link">Privacy</a> ¬∑ 
                <a href="#" id="about-link">About</a> ¬∑ 
                <a href="https://platform.deepseek.com" target="_blank">Get API Key</a>
            </p>
        </footer>
    </div>

    <!-- Settings Modal -->
    <div class="modal" id="settings-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-cog"></i> Settings</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="setting-group">
                    <label for="api-key-display">API Key Status</label>
                    <div class="api-key-display">
                        <input type="text" id="api-key-display" readonly 
                               placeholder="API key belum diatur">
                        <button id="change-api-btn" class="small-btn">
                            <i class="fas fa-edit"></i> Change
                        </button>
                    </div>
                    <small>API key disimpan di browser Anda secara aman</small>
                </div>
                
                <div class="setting-group">
                    <label for="model-select">AI Model</label>
                    <select id="model-select">
                        <option value="deepseek-chat">DeepSeek Chat (Latest)</option>
                        <option value="deepseek-coder">DeepSeek Coder</option>
                        <option value="deepseek-v3">DeepSeek V3 (Beta)</option>
                        <option value="deepseek-v2">DeepSeek V2</option>
                        <option value="deepseek-r1">DeepSeek R1</option>
                    </select>
                    <small>Pilih model AI yang ingin digunakan</small>
                </div>
                
                <div class="setting-group">
                    <label>
                        <input type="checkbox" id="save-history" checked>
                        Simpan riwayat percakapan
                    </label>
                </div>
                
                <div class="setting-group">
                    <label>
                        <input type="checkbox" id="auto-scroll" checked>
                        Auto-scroll ke pesan baru
                    </label>
                </div>
                
                <div class="setting-group">
                    <label for="max-tokens">Max Tokens: <span id="token-value">2000</span></label>
                    <input type="range" id="max-tokens" min="500" max="4000" value="2000" step="100">
                    <small>Token maksimal untuk respons AI</small>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn secondary" id="test-api-btn">
                    <i class="fas fa-bolt"></i> Test Connection
                </button>
                <button class="btn primary" id="save-settings-btn">
                    <i class="fas fa-save"></i> Save Settings
                </button>
            </div>
        </div>
    </div>

    <!-- About Modal -->
    <div class="modal" id="about-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-info-circle"></i> About DeepKu AI</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="about-content">
                    <div class="about-logo">
                        <img src="assets/yin-yang.svg" alt="Yin Yang" style="width: 80px; height: 80px;">
                    </div>
                    <h4>Konsep Yin Yang</h4>
                    <p>Yin (‚ö´) dan Yang (‚ö™) adalah konsep filosofi Tiongkok yang melambangkan harmoni dalam dualitas.</p>
                    
                    <h4>Fitur Utama:</h4>
                    <ul>
                        <li>üí¨ Chat dengan berbagai model DeepSeek AI</li>
                        <li>‚ö° Respons real-time dengan API terbaru</li>
                        <li>üé® Tema hitam putih yang elegan</li>
                        <li>üîß Multiple AI models support</li>
                        <li>üíæ Penyimpanan lokal percakapan</li>
                        <li>üì± Responsif untuk semua device</li>
                    </ul>
                    
                    <h4>Cara Penggunaan:</h4>
                    <ol>
                        <li>Dapatkan API key dari platform.deepseek.com</li>
                        <li>Masukkan API key di Settings</li>
                        <li>Pilih model AI yang diinginkan</li>
                        <li>Mulai chatting!</li>
                    </ol>
                    
                    <div class="version-info">
                        <p><strong>Version:</strong> 2.0.0</p>
                        <p><strong>Last Updated:</strong> December 2024</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Privacy Modal -->
    <div class="modal" id="privacy-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-shield-alt"></i> Privacy & Security</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="privacy-content">
                    <h4>Data Storage</h4>
                    <p>Semua percakapan disimpan <strong>hanya di browser Anda</strong> menggunakan localStorage. Data tidak dikirim ke server mana pun selain DeepSeek API.</p>
                    
                    <h4>API Key</h4>
                    <p>API key Anda disimpan di localStorage browser dan hanya dapat diakses oleh Anda.</p>
                    
                    <h4>DeepSeek API</h4>
                    <p>Pesan Anda dikirim ke DeepSeek API untuk diproses. Baca <a href="https://platform.deepseek.com/privacy" target="_blank">privacy policy DeepSeek</a> untuk detail.</p>
                    
                    <h4>Keamanan:</h4>
                    <ul>
                        <li>Jangan bagikan API key Anda</li>
                        <li>Hapus riwayat percakapan setelah selesai</li>
                        <li>Gunakan di browser private mode jika diperlukan</li>
                        <li>Clear cache browser secara berkala</li>
                    </ul>
                    
                    <div class="warning-box">
                        <i class="fas fa-exclamation-triangle"></i>
                        <p>Ini adalah tool pribadi. Anda bertanggung jawab penuh atas penggunaan API key dan data Anda.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification Container -->
    <div id="toast-container"></div>

    <!-- JavaScript -->
    <script src="script.js"></script>
    
    <!-- Inline JavaScript for quick setup -->
    <script>
        // Quick event listeners for modal links
        document.addEventListener('DOMContentLoaded', function() {
            // About link
            const aboutLink = document.getElementById('about-link');
            if (aboutLink) {
                aboutLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    document.getElementById('about-modal').classList.add('active');
                });
            }
            
            // Privacy link
            const privacyLink = document.getElementById('privacy-link');
            if (privacyLink) {
                privacyLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    document.getElementById('privacy-modal').classList.add('active');
                });
            }
            
            // Clear input button
            const clearInputBtn = document.getElementById('clear-input-btn');
            if (clearInputBtn) {
                clearInputBtn.addEventListener('click', function() {
                    const input = document.getElementById('message-input');
                    if (input) {
                        input.value = '';
                        input.style.height = 'auto';
                        input.focus();
                    }
                });
            }
            
            // New chat button
            const newChatBtn = document.getElementById('new-chat-btn');
            if (newChatBtn) {
                newChatBtn.addEventListener('click', function() {
                    if (confirm('Mulai percakapan baru?')) {
                        window.location.reload();
                    }
                });
            }
            
            // Close modals on ESC key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    document.querySelectorAll('.modal.active').forEach(modal => {
                        modal.classList.remove('active');
                    });
                }
            });
            
            // Close modals on overlay click
            document.querySelectorAll('.modal').forEach(modal => {
                modal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        this.classList.remove('active');
                    }
                });
            });
            
            // Close buttons for modals
            document.querySelectorAll('.modal-close').forEach(btn => {
                btn.addEventListener('click', function() {
                    this.closest('.modal').classList.remove('active');
                });
            });
        });
        
        // Auto-resize textarea
        function autoResizeTextarea() {
            const textarea = document.getElementById('message-input');
            if (textarea) {
                textarea.style.height = 'auto';
                textarea.style.height = Math.min(textarea.scrollHeight, 200) + 'px';
                
                // Show/hide clear button based on content
                const clearBtn = document.getElementById('clear-input-btn');
                if (clearBtn) {
                    clearBtn.style.opacity = textarea.value.trim() ? '1' : '0.5';
                }
            }
        }
        
        // Initialize on load
        window.addEventListener('load', function() {
            const textarea = document.getElementById('message-input');
            if (textarea) {
                textarea.addEventListener('input', autoResizeTextarea);
                autoResizeTextarea(); // Initial call
            }
        });
    </script>
</body>
</html>
